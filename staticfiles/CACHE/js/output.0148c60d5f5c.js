document.addEventListener("DOMContentLoaded",function(){const selectAllCheckbox=document.getElementById("select-all");const checkboxes=document.querySelectorAll(".classroom-checkbox");const selectedCountSpan=document.getElementById("selected-count");const deleteButton=document.getElementById("delete-button");function updateSelectAllCheckbox(){const checkedCheckboxes=document.querySelectorAll(".classroom-checkbox:checked");const visibleCheckboxes=Array.from(checkboxes).filter(checkbox=>checkbox.closest('tr').style.display!=='none');selectAllCheckbox.checked=visibleCheckboxes.length===checkedCheckboxes.length;updateSelectedCount();}
function updateSelectedCount(){const checkedCheckboxes=document.querySelectorAll(".classroom-checkbox:checked");const count=checkedCheckboxes.length;deleteButton.disabled=count===0;selectedCountSpan.textContent=count>0?`(${count})`:"";}
if(selectAllCheckbox){selectAllCheckbox.addEventListener("change",function(){checkboxes.forEach((checkbox)=>{checkbox.checked=this.checked;});updateSelectedCount();});}
checkboxes.forEach((checkbox)=>{checkbox.addEventListener("change",updateSelectAllCheckbox);});function handleDeletion(){const selectedItems=Array.from(checkboxes).filter((checkbox)=>checkbox.checked).map((checkbox)=>checkbox.value);if(selectedItems.length>0){const classroomIdsInput=document.getElementById("classroom_ids");classroomIdsInput.value=selectedItems.join(",");}}
deleteButton.addEventListener("click",handleDeletion);if(checkboxes.length===0){deleteButton.disabled=true;}
updateSelectAllCheckbox();});;