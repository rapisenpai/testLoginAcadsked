document.addEventListener('DOMContentLoaded',function(){const selectAllCheckbox=document.getElementById('select-all');const checkboxes=document.querySelectorAll('.classroom-checkbox');const selectedCountSpan=document.getElementById('selected-count');const deleteButton=document.getElementById('delete-button');function updateSelectAllCheckbox(){const checkedCheckboxes=document.querySelectorAll('.classroom-checkbox:checked');selectAllCheckbox.checked=checkboxes.length===checkedCheckboxes.length;updateSelectedCount();}
function updateSelectedCount(){const checkedCheckboxes=document.querySelectorAll('.classroom-checkbox:checked');selectedCountSpan.textContent=checkedCheckboxes.length;deleteButton.disabled=checkedCheckboxes.length===0;}
if(selectAllCheckbox){selectAllCheckbox.addEventListener('change',function(){checkboxes.forEach((checkbox)=>{checkbox.checked=this.checked;});updateSelectedCount();});}
checkboxes.forEach((checkbox)=>{checkbox.addEventListener('change',updateSelectAllCheckbox);});function handleDeletion(){const selectedItems=Array.from(checkboxes).filter(checkbox=>checkbox.checked).map(checkbox=>checkbox.dataset.classroomId);if(selectedItems.length>0){const classroomIdsInput=document.getElementById('classroom_ids');classroomIdsInput.value=selectedItems.join(',');const modal=document.getElementById('delete-all-classroom');modal.classList.remove('hidden');modal.classList.add('hs-overlay-open');}}
deleteButton.addEventListener('click',handleDeletion);updateSelectAllCheckbox();});;